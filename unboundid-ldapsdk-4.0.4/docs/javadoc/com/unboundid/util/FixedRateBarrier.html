<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_121) on Mon Jan 22 10:58:41 CST 2018 -->
<title>FixedRateBarrier (UnboundID LDAP SDK for Java 4.0.4)</title>
<meta name="date" content="2018-01-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FixedRateBarrier (UnboundID LDAP SDK for Java 4.0.4)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/unboundid/util/FixedArrayOutputStream.html" title="class in com.unboundid.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/unboundid/util/FormattableColumn.html" title="class in com.unboundid.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/unboundid/util/FixedRateBarrier.html" target="_top">Frames</a></li>
<li><a href="FixedRateBarrier.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.unboundid.util</div>
<h2 title="Class FixedRateBarrier" class="title">Class FixedRateBarrier</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.unboundid.util.FixedRateBarrier</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre><a href="../../../com/unboundid/util/ThreadSafety.html" title="annotation in com.unboundid.util">@ThreadSafety</a>(<a href="../../../com/unboundid/util/ThreadSafety.html#level()">level</a>=<a href="../../../com/unboundid/util/ThreadSafetyLevel.html#COMPLETELY_THREADSAFE">COMPLETELY_THREADSAFE</a>)
public final class <a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.69">FixedRateBarrier</a>
extends java.lang.Object
implements java.io.Serializable</pre>
<div class="block">Instances of this class are used to ensure that certain actions are performed
 at a fixed rate per interval (e.g. 10000 search operations per second).
 <p>
 Once a class is constructed with the duration of an interval and the target
 per interval, the <a href="../../../com/unboundid/util/FixedRateBarrier.html#await()"><code>await()</code></a> method only releases callers at the
 specified number of times per interval.  This class is most useful when
 the target number per interval exceeds the limits of other approaches
 such as <code>java.util.Timer</code> or
 <code>java.util.concurrent.ScheduledThreadPoolExecutor</code>.  For instance,
 this does a good job of ensuring that something happens about 10000 times
 per second, but it's overkill to ensure something happens five times per
 hour.  This does come at a cost.  In the worst case, a single thread is
 tied up in a loop doing a small amount of computation followed by a
 Thread.yield().  Calling Thread.sleep() is not possible because many
 platforms sleep for a minimum of 10ms, and all platforms require sleeping
 for at least 1ms.
 <p>
 Testing has shown that this class is accurate for a "no-op"
 action up to two million per second, which vastly exceeds its
 typical use in tools such as <code>searchrate</code> and <code>modrate</code>.  This
 class is designed to be called by multiple threads, however, it does not
 make any fairness guarantee between threads; a single-thread might be
 released from the <a href="../../../com/unboundid/util/FixedRateBarrier.html#await()"><code>await()</code></a> method many times before another thread
 that is blocked in that method.
 <p>
 This class attempts to smooth out the target per interval throughout each
 interval.  At a given ratio, R between 0 and 1, through the interval, the
 expected number of actions to have been performed in the interval at that
 time is R times the target per interval.  That is, 10% of the way through
 the interval, approximately 10% of the actions have been performed, and
 80% of the way through the interval, 80% of the actions have been performed.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../serialized-form.html#com.unboundid.util.FixedRateBarrier">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#FixedRateBarrier(long,%20int)">FixedRateBarrier</a></strong>(long&nbsp;intervalDurationMs,
                                int&nbsp;perInterval)</code>
<div class="block">Constructs a new FixedRateBarrier, which is active until
 <a href="../../../com/unboundid/util/FixedRateBarrier.html#shutdownRequested"><code>shutdownRequested</code></a> is called.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#await()">await</a></strong>()</code>
<div class="block">This method waits until it is time for the next 'action' to be performed
 based on the specified interval duration and target per interval.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/unboundid/util/ObjectPair.html" title="class in com.unboundid.util">ObjectPair</a>&lt;java.lang.Long,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#getTargetRate()">getTargetRate</a></strong>()</code>
<div class="block">Retrieves information about the current target rate for this barrier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#isShutdownRequested()">isShutdownRequested</a></strong>()</code>
<div class="block">Returns <code>true</code> if shutdown has been requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#setRate(long,%20int)">setRate</a></strong>(long&nbsp;intervalDurationMs,
              int&nbsp;perInterval)</code>
<div class="block">Updates the rates associated with this FixedRateBarrier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/unboundid/util/FixedRateBarrier.html#shutdownRequested()">shutdownRequested</a></strong>()</code>
<div class="block">Shuts down this barrier.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FixedRateBarrier(long, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FixedRateBarrier</h4>
<pre>public&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.169">FixedRateBarrier</a>(long&nbsp;intervalDurationMs,
                int&nbsp;perInterval)</pre>
<div class="block">Constructs a new FixedRateBarrier, which is active until
 <a href="../../../com/unboundid/util/FixedRateBarrier.html#shutdownRequested"><code>shutdownRequested</code></a> is called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intervalDurationMs</code> - The duration of the interval in milliseconds.</dd><dd><code>perInterval</code> - The target number of times that <a href="../../../com/unboundid/util/FixedRateBarrier.html#await()"><code>await()</code></a> should
                      return per interval.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setRate(long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRate</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.184">setRate</a>(long&nbsp;intervalDurationMs,
           int&nbsp;perInterval)</pre>
<div class="block">Updates the rates associated with this FixedRateBarrier.  The new rate
 will be in effect when this method returns.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intervalDurationMs</code> - The duration of the interval in milliseconds.</dd><dd><code>perInterval</code> - The target number of times that <a href="../../../com/unboundid/util/FixedRateBarrier.html#await()"><code>await()</code></a> should
                      return per interval.</dd></dl>
</li>
</ul>
<a name="await()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>await</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.215">await</a>()</pre>
<div class="block">This method waits until it is time for the next 'action' to be performed
 based on the specified interval duration and target per interval.  This
 method can be called by multiple threads simultaneously.  This method
 returns immediately if shutdown has been requested.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if shutdown has been requested and <code></code> false
          otherwise.</dd></dl>
</li>
</ul>
<a name="getTargetRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTargetRate</h4>
<pre>public&nbsp;<a href="../../../com/unboundid/util/ObjectPair.html" title="class in com.unboundid.util">ObjectPair</a>&lt;java.lang.Long,java.lang.Integer&gt;&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.324">getTargetRate</a>()</pre>
<div class="block">Retrieves information about the current target rate for this barrier.  The
 value returned will include a <code>Long</code> that specifies the duration of
 the current interval in milliseconds and an <code>Integer</code> that specifies
 the number of times that the <a href="../../../com/unboundid/util/FixedRateBarrier.html#await()"><code>await()</code></a> method should return per
 interval.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Information about hte current target rate for this barrier.</dd></dl>
</li>
</ul>
<a name="shutdownRequested()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownRequested</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.336">shutdownRequested</a>()</pre>
<div class="block">Shuts down this barrier.  Future calls to await() will return immediately.</div>
</li>
</ul>
<a name="isShutdownRequested()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isShutdownRequested</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../src-html/com/unboundid/util/FixedRateBarrier.html#line.349">isShutdownRequested</a>()</pre>
<div class="block">Returns <code>true</code> if shutdown has been requested.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if shutdown has been requested and <code>false</code>
          otherwise.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/unboundid/util/FixedArrayOutputStream.html" title="class in com.unboundid.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/unboundid/util/FormattableColumn.html" title="class in com.unboundid.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/unboundid/util/FixedRateBarrier.html" target="_top">Frames</a></li>
<li><a href="FixedRateBarrier.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><div id="footer">Copyright &copy; 2008-2018 &ndash; Ping Identity &ndash; All Rights Reserved.</div></small></p>
</body>
</html>
